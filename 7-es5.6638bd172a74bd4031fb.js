!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=i(e);if(t){var c=i(this).constructor;a=Reflect.construct(r,arguments,c)}else a=r.apply(this,arguments);return n(this,a)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,r=void 0;try{for(var c,o=e[Symbol.iterator]();!(i=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);i=!0);}catch(s){a=!0,r=s}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{KppW:function(n,i,r){"use strict";r.r(i),r.d(i,"HeadlinesModule",(function(){return Y}));var o,u,l=r("tyNb"),b=r("2Vo4"),p=r("itXk"),f=r("lJxs"),h=r("/uUt"),d=r("eIep"),g=r("vkgz"),m=r("tk/3"),y=r("z6cu"),O=r("UXun"),v=r("JIr8"),P=r("AytR"),j=r("fXoL"),C=((u=function(){function e(t){c(this,e),this.http=t,this.URL=P.a.baseUrl+"/top-headlines"}return s(e,[{key:"getHeadlines",value:function(e){var t=(new m.d).set("q",e.topic).set("pageSize",e.pageSize.toString()).set("page",e.page.toString()).set("category",e.category).set("country",e.country);return this.http.get(this.URL,{params:t}).pipe(Object(O.a)(),Object(v.a)((function(e){return Object(y.a)(e)})))}}]),e}()).\u0275fac=function(e){return new(e||u)(j.Xb(m.b))},u.\u0275prov=j.Gb({token:u,factory:u.\u0275fac,providedIn:"root"}),u),S={headlines:{articles:[],status:"",totalResults:0},searchCriteria:{category:"general",pageSize:10,country:"us",topic:"",page:1},loading:!1},k=((o=function(){function e(t){var n=this;c(this,e),this.headlinesService=t,this.store=new b.a(S),this.state$=this.store.asObservable(),this.state$.subscribe((function(e){return console.log(e)})),this.headlines$=this.state$.pipe(Object(f.a)((function(e){return e.headlines})),Object(h.a)()),this.searchCriteria$=this.state$.pipe(Object(f.a)((function(e){return e.searchCriteria})),Object(h.a)()),this.page$=this.state$.pipe(Object(f.a)((function(e){return e.searchCriteria.page})),Object(h.a)()),this.loading$=this.state$.pipe(Object(f.a)((function(e){return e.loading})),Object(h.a)()),this.vm$=Object(p.a)(this.headlines$,this.searchCriteria$,this.page$,this.loading$).pipe(Object(f.a)((function(e){var t=a(e,4);return{headlines:t[0],searchCriteria:t[1],page:t[2],loading:t[3]}}))),Object(p.a)(this.searchCriteria$).pipe(Object(d.a)((function(e){var t=a(e,1)[0];return console.log(t),n.headlinesService.getHeadlines(t)})),Object(g.a)((function(e){n.updateState(Object.assign(Object.assign({},S),{headlines:e,loading:!1}))}))).subscribe()}return s(e,[{key:"updateHeadlines",value:function(e){this.updateState(Object.assign(Object.assign({},S),{headlines:e,loading:!0}))}},{key:"updateSearchCriteria",value:function(e){var t=Object.assign(Object.assign({},e),{page:S.searchCriteria.page});this.updateState(Object.assign(Object.assign({},S),{searchCriteria:t,loading:!0}))}},{key:"pageIncrease",value:function(){var e=S.searchCriteria.page+1;this.updateState(Object.assign(Object.assign({},S),{searchCriteria:Object.assign(Object.assign({},S.searchCriteria),{page:e})}))}},{key:"pageDecrease",value:function(){var e=S.searchCriteria.page-1;this.updateState(Object.assign(Object.assign({},S),{searchCriteria:Object.assign(Object.assign({},S.searchCriteria),{page:e})}))}},{key:"updateState",value:function(e){this.store.next(S=e)}}]),e}()).\u0275fac=function(e){return new(e||o)(j.Xb(C))},o.\u0275prov=j.Gb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),w=r("3Pt+"),x=r("7o/Q"),I=r("D0XW"),z=function(){function e(t,n){c(this,e),this.dueTime=t,this.scheduler=n}return s(e,[{key:"call",value:function(e,t){return t.subscribe(new D(e,this.dueTime,this.scheduler))}}]),e}(),D=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(a,n);var i=t(a);function a(e,t,n){var r;return c(this,a),(r=i.call(this,e)).dueTime=t,r.scheduler=n,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return s(a,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule($,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),a}(x.a);function $(e){e.debouncedNext()}var A,_,E=((A=function(){function e(t){var n=this;c(this,e),this.fb=t,this.minPageSize=1,this.maxPageSize=100,this.defaultPageSize=10,this.multiple=!0,this.formChange=new j.n,this.formInit(),this.form.valueChanges.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.a;return function(n){return n.lift(new z(e,t))}}(400),Object(h.a)(),Object(g.a)((function(e){n.formChange.emit(e)}))).subscribe()}return s(e,[{key:"formInit",value:function(){this.form=this.fb.group({topic:[""],category:["general"],country:["us"],pageSize:[this.defaultPageSize,w.n.compose([w.n.min(this.minPageSize),w.n.max(this.maxPageSize)])]})}}]),e}()).\u0275fac=function(e){return new(e||A)(j.Kb(w.b))},A.\u0275cmp=j.Eb({type:A,selectors:[["app-headlines-form"]],outputs:{formChange:"formChange"},decls:57,vars:6,consts:[["validate","",3,"formGroup"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","topic"],["formControlName","topic","type","text","id","topic","name","topic","placeholder","Enter topic:",1,"form-control"],["for","category-select"],["value","general","formControlName","category","id","category-select",1,"form-control",3,"multiple"],["value","general","selected",""],["value","business"],["value","entertainment"],["value","gaming"],["value","music"],["value","politics"],["value","health-and-medical"],["value","science-and-nature"],["value","sport"],["value","technology"],["for","country-select"],["value","us","formControlName","country","id","country-select",1,"form-control",3,"multiple"],["value","us","selected",""],["value","ae"],["value","ar"],["value","rs"],["value","de"],["value","gb"],["value","hu"],["value","ro"],["for","page-size"],["type","number","formControlName","pageSize","id","page-size","placeholder","Page size:",1,"form-control",3,"min","max","value"]],template:function(e,t){1&e&&(j.Pb(0,"form",0),j.Pb(1,"div",1),j.Pb(2,"div",2),j.Pb(3,"div",3),j.Pb(4,"div",4),j.Pb(5,"label",5),j.yc(6,"Topic: "),j.Ob(),j.Lb(7,"input",6),j.Ob(),j.Pb(8,"div",4),j.Pb(9,"label",7),j.yc(10,"Category: "),j.Ob(),j.Pb(11,"select",8),j.Pb(12,"option",9),j.yc(13,"General"),j.Ob(),j.Pb(14,"option",10),j.yc(15,"Business"),j.Ob(),j.Pb(16,"option",11),j.yc(17,"Entertainment"),j.Ob(),j.Pb(18,"option",12),j.yc(19,"Gaming"),j.Ob(),j.Pb(20,"option",13),j.yc(21,"Music"),j.Ob(),j.Pb(22,"option",14),j.yc(23,"Politics"),j.Ob(),j.Pb(24,"option",15),j.yc(25,"Health and medical"),j.Ob(),j.Pb(26,"option",16),j.yc(27,"Science and nature"),j.Ob(),j.Pb(28,"option",17),j.yc(29,"Sport"),j.Ob(),j.Pb(30,"option",18),j.yc(31,"Technology"),j.Ob(),j.Ob(),j.Ob(),j.Ob(),j.Pb(32,"div",3),j.Pb(33,"div",4),j.Pb(34,"label",19),j.yc(35,"Country: "),j.Ob(),j.Pb(36,"select",20),j.Pb(37,"option",21),j.yc(38,"United States of America"),j.Ob(),j.Pb(39,"option",22),j.yc(40,"United Arab Emirates"),j.Ob(),j.Pb(41,"option",23),j.yc(42,"Argentina"),j.Ob(),j.Pb(43,"option",24),j.yc(44,"Serbia"),j.Ob(),j.Pb(45,"option",25),j.yc(46,"Germany"),j.Ob(),j.Pb(47,"option",26),j.yc(48,"United Kingdom of Great Britain and Northern Ireland"),j.Ob(),j.Pb(49,"option",27),j.yc(50,"Hungary"),j.Ob(),j.Pb(51,"option",28),j.yc(52,"Romania"),j.Ob(),j.Ob(),j.Ob(),j.Pb(53,"div",4),j.Pb(54,"label",29),j.yc(55,"Page size"),j.Ob(),j.Lb(56,"input",30),j.Ob(),j.Ob(),j.Ob(),j.Ob(),j.Ob()),2&e&&(j.ic("formGroup",t.form),j.xb(11),j.ic("multiple",t.multiple),j.xb(25),j.ic("multiple",t.multiple),j.xb(20),j.ic("min",t.minPageSize)("max",t.maxPageSize)("value",t.defaultPageSize))},directives:[w.p,w.i,w.d,w.a,w.h,w.c,w.m,w.j,w.o,w.k],styles:[""],changeDetection:0}),A),M=r("ofXK"),R=((_=function(){function e(){c(this,e)}return s(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||_)},_.\u0275cmp=j.Eb({type:_,selectors:[["app-article-description"]],inputs:{article:"article",i:"i"},decls:22,vars:13,consts:[[1,"article"],[1,"text-center","d-flex","justify-content-between","align-items-center","mb-2"],[1,"badge","badge-dark","align-self-start"],[3,"href"],[1,"mb-2"],[1,"mb-2","lead"],[1,"btn","btn-outline-primary",3,"href"]],template:function(e,t){1&e&&(j.Pb(0,"div",0),j.Pb(1,"h5",1),j.Pb(2,"span",2),j.yc(3),j.dc(4,"number"),j.Ob(),j.Pb(5,"a",3),j.yc(6),j.Ob(),j.Ob(),j.Pb(7,"div",4),j.Pb(8,"p"),j.Pb(9,"strong"),j.yc(10),j.Ob(),j.Ob(),j.Pb(11,"p"),j.Pb(12,"strong"),j.yc(13),j.Ob(),j.Ob(),j.Pb(14,"p"),j.Pb(15,"strong"),j.yc(16),j.dc(17,"date"),j.Ob(),j.Ob(),j.Ob(),j.Pb(18,"p",5),j.yc(19),j.Ob(),j.Pb(20,"a",6),j.yc(21,"Read the article"),j.Ob(),j.Ob()),2&e&&(j.xb(3),j.zc(j.ec(4,8,t.i+1)),j.xb(2),j.ic("href",t.article.url,j.rc),j.xb(1),j.zc(t.article.title),j.xb(4),j.Ac("Source: ",t.article.source.name,""),j.xb(3),j.Ac("Author: ",t.article.author,""),j.xb(3),j.zc(j.fc(17,10,t.article.publishedAt,"mediumDate")),j.xb(3),j.zc(t.article.description),j.xb(1),j.ic("href",t.article.url,j.rc))},pipes:[M.f,M.e],styles:[""]}),_);function L(e,t){if(1&e&&(j.Pb(0,"article",2),j.Pb(1,"div",3),j.Pb(2,"div",4),j.Pb(3,"a",5),j.Lb(4,"img",6),j.Ob(),j.Ob(),j.Pb(5,"div",7),j.Lb(6,"app-article-description",8),j.Ob(),j.Ob(),j.Lb(7,"hr"),j.Ob()),2&e){var n=t.$implicit,i=t.index;j.ic("id",n.title),j.xb(3),j.ic("href",n.url,j.rc),j.xb(1),j.ic("src",n.urlToImage,j.rc)("title",n.title)("alt",n.title),j.xb(2),j.ic("article",n)("i",i)}}var N,V=((N=function(){function e(){c(this,e)}return s(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||N)},N.\u0275cmp=j.Eb({type:N,selectors:[["app-articles"]],inputs:{articles:"articles"},decls:2,vars:1,consts:[["id","articles"],["class","articles",3,"id",4,"ngFor","ngForOf"],[1,"articles",3,"id"],[1,"row"],[1,"col-md-7"],[3,"href"],["loading","lazy",1,"img-fluid","img-thumbnail","rounded","mx-auto","d-block","border","border-light",3,"src","title","alt"],[1,"col-md-5"],[3,"article","i"]],template:function(e,t){1&e&&(j.Pb(0,"section",0),j.wc(1,L,8,7,"article",1),j.Ob()),2&e&&(j.xb(1),j.ic("ngForOf",t.articles))},directives:[M.l,R],styles:[""]}),N);function T(e,t){if(1&e){var n=j.Qb();j.Pb(0,"button",3),j.ac("click",(function(){return j.qc(n),j.cc().onDeacraseClick()})),j.yc(1," Load less "),j.Ob()}}function F(e,t){if(1&e){var n=j.Qb();j.Pb(0,"button",4),j.ac("click",(function(){return j.qc(n),j.cc().onIncreaseClick()})),j.yc(1," Load more "),j.Ob()}}var U,G=((U=function(){function e(){c(this,e),this.pageIncrease=new j.n,this.pageDeacrease=new j.n}return s(e,[{key:"ngOnInit",value:function(){}},{key:"onIncreaseClick",value:function(){this.pageIncrease.emit()}},{key:"onDeacraseClick",value:function(){this.pageDeacrease.emit()}}]),e}()).\u0275fac=function(e){return new(e||U)},U.\u0275cmp=j.Eb({type:U,selectors:[["app-page-buttons"]],inputs:{page:"page",numberOfArticles:"numberOfArticles",pageSize:"pageSize"},outputs:{pageIncrease:"pageIncrease",pageDeacrease:"pageDeacrease"},decls:3,vars:2,consts:[[1,"page-buttons"],["type","button","class","btn btn-primary float-left",3,"click",4,"ngIf"],["type","button","class","btn btn-primary float-right",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","float-left",3,"click"],["type","button",1,"btn","btn-primary","float-right",3,"click"]],template:function(e,t){1&e&&(j.Pb(0,"div",0),j.wc(1,T,2,0,"button",1),j.wc(2,F,2,0,"button",2),j.Ob()),2&e&&(j.xb(1),j.ic("ngIf",t.page>1),j.xb(1),j.ic("ngIf",t.numberOfArticles===t.pageSize))},directives:[M.m],styles:[""]}),U);function H(e,t){1&e&&(j.Pb(0,"h1"),j.yc(1,"Please wait"),j.Ob())}function X(e,t){if(1&e){var n=j.Qb();j.Nb(0),j.wc(1,H,2,0,"h1",5),j.Lb(2,"app-articles",6),j.Pb(3,"app-page-buttons",7),j.ac("pageIncrease",(function(){j.qc(n);var e=j.cc(),t=j.pc(1);return e.pageIncrease(t)}))("pageDeacrease",(function(){j.qc(n);var e=j.cc(),t=j.pc(1);return e.pageDecrease(t)})),j.Ob(),j.Mb()}if(2&e){var i=t.ngIf;j.xb(1),j.ic("ngIf",i.loading),j.xb(1),j.ic("articles",i.headlines.articles),j.xb(1),j.ic("page",i.searchCriteria.page)("pageSize",i.searchCriteria.pageSize)("numberOfArticles",i.headlines.articles.length)}}var q,K,J,Q=[{path:"",component:(q=function(){function e(t){c(this,e),this.headlinesFacade=t,this.vm$=t.vm$}return s(e,[{key:"onFormChange",value:function(e){this.headlinesFacade.updateSearchCriteria(e)}},{key:"pageIncrease",value:function(e){e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),this.headlinesFacade.pageIncrease()}},{key:"pageDecrease",value:function(e){e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),this.headlinesFacade.pageDecrease()}}]),e}(),q.\u0275fac=function(e){return new(e||q)(j.Kb(k))},q.\u0275cmp=j.Eb({type:q,selectors:[["app-headlines"]],decls:7,vars:3,consts:[[1,"py-5"],["form",""],[1,"row"],[1,"col-xs-12","col-sm-10","offset-sm-1","col-md-6","offset-md-3"],[3,"formChange"],[4,"ngIf"],[3,"articles"],[3,"page","pageSize","numberOfArticles","pageIncrease","pageDeacrease"]],template:function(e,t){1&e&&(j.Pb(0,"section",0,1),j.Pb(2,"div",2),j.Pb(3,"div",3),j.Pb(4,"app-headlines-form",4),j.ac("formChange",(function(e){return t.onFormChange(e)})),j.Ob(),j.Ob(),j.Ob(),j.Ob(),j.wc(5,X,4,5,"ng-container",5),j.dc(6,"async")),2&e&&(j.xb(5),j.ic("ngIf",j.ec(6,1,t.vm$)))},directives:[E,M.m,V,G],pipes:[M.b],styles:['.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]:before{background-color:#fff}img[_ngcontent-%COMP%]:before{content:"We\'re sorry, this image is broken :(";display:block;margin-bottom:10px}.article[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}.article[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .article[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}'],changeDetection:0}),q)}],W=((K=function e(){c(this,e)}).\u0275mod=j.Ib({type:K}),K.\u0275inj=j.Hb({factory:function(e){return new(e||K)},imports:[[l.g.forChild(Q)],l.g]}),K),B=r("PCNd"),Y=((J=function e(){c(this,e)}).\u0275mod=j.Ib({type:J}),J.\u0275inj=j.Hb({factory:function(e){return new(e||J)},imports:[[B.a,W]]}),J)}}])}();