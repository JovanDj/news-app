(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{KppW:function(e,t,i){"use strict";i.r(t);var a=i("tyNb"),n=i("vkgz"),c=i("nYR2"),s=i("tk/3"),o=i("z6cu"),r=i("UXun"),l=i("JIr8"),b=i("AytR"),u=i("fXoL");let d=(()=>{class e{constructor(e){this.http=e,this.URL=b.a.baseUrl+"/top-headlines"}getHeadlines(e,t=1){const i=(new s.d).set("q",e.topic).set("pageSize",e.pageSize.toString()).set("page",t.toString()).set("category",e.category).set("country",e.country);return this.http.get(this.URL,{params:i}).pipe(Object(r.a)(),Object(l.a)(e=>Object(o.a)(e)))}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(s.b))},e.\u0275prov=u.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=i("2Vo4"),h=i("itXk"),g=i("lJxs"),m=i("/uUt"),f=i("eIep");let v={headlines:{articles:[],status:"",totalResults:0},searchCriteria:{category:"general",pageSize:10,country:"us",topic:"",page:1},page:1,loading:!1},R=(()=>{class e{constructor(e){this.headlinesService=e,this.store=new p.a(v),this.state$=this.store.asObservable(),this.headlines$=this.state$.pipe(Object(g.a)(e=>e.headlines),Object(m.a)()),this.searchCriteria$=this.state$.pipe(Object(g.a)(e=>e.searchCriteria),Object(m.a)()),this.page$=this.state$.pipe(Object(g.a)(e=>e.page),Object(m.a)()),this.loading$=this.state$.pipe(Object(g.a)(e=>e.loading),Object(m.a)()),this.vm$=Object(h.a)(this.headlines$,this.searchCriteria$,this.page$,this.loading$).pipe(Object(g.a)(([e,t,i,a])=>({headlines:e,searchCriteria:t,page:i,loading:a}))),Object(h.a)(this.searchCriteria$,this.page$).pipe(Object(f.a)(([e,t])=>this.headlinesService.getHeadlines(e,t)),Object(n.a)(e=>{this.updateHeadlines(e)})).subscribe()}updateHeadlines(e){this.updateState(v=Object.assign(Object.assign({},v),{headlines:e}))}updateSearchCriteria(e){this.updateState(v=Object.assign(Object.assign({},v),{searchCriteria:e}))}pageIncrease(){const e=++v.page;this.updateState(v=Object.assign(Object.assign({},v),{page:e}))}pageDecrease(){const e=--v.page;this.updateState(v=Object.assign(Object.assign({},v),{page:e}))}updateState(e){this.store.next(v=e)}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(d))},e.\u0275prov=u.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Q=i("3Pt+"),y=i("7o/Q"),z=i("D0XW");class S{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new O(e,this.dueTime,this.scheduler))}}class O extends y.a{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(j,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function j(e){e.debouncedNext()}let B=(()=>{class e{constructor(e){this.fb=e,this.minPageSize=1,this.maxPageSize=100,this.defaultPageSize=10,this.multiple=!0,this.receiveHeadlines=new u.n,this.formInit(),this.form.valueChanges.pipe(function(e,t=z.a){return i=>i.lift(new S(e,t))}(400),Object(m.a)(),Object(n.a)(e=>{this.receiveHeadlines.emit(e)})).subscribe()}formInit(){this.form=this.fb.group({topic:[""],category:["general"],country:["us"],pageSize:[this.defaultPageSize,Q.n.compose([Q.n.min(this.minPageSize),Q.n.max(this.maxPageSize)])]})}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(Q.b))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-headlines-form"]],outputs:{receiveHeadlines:"receiveHeadlines"},decls:57,vars:6,consts:[["validate","",3,"formGroup"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","topic"],["formControlName","topic","type","text","id","topic","placeholder","Enter topic:",1,"form-control"],["for","category-select"],["value","general","formControlName","category","id","category-select",1,"form-control",3,"multiple"],["value","general","selected",""],["value","business"],["value","entertainment"],["value","gaming"],["value","music"],["value","politics"],["value","health-and-medical"],["value","science-and-nature"],["value","sport"],["value","technology"],["for","country-select"],["value","us","formControlName","country","id","country-select",1,"form-control",3,"multiple"],["value","us","selected",""],["value","ae"],["value","ar"],["value","rs"],["value","de"],["value","gb"],["value","hu"],["value","ro"],["for","page-size"],["type","number","formControlName","pageSize","id","page-size","placeholder","Page size:",1,"form-control",3,"min","max","value"]],template:function(e,t){1&e&&(u.Rb(0,"form",0),u.Rb(1,"div",1),u.Rb(2,"div",2),u.Rb(3,"div",3),u.Rb(4,"div",4),u.Rb(5,"label",5),u.Bc(6,"Topic: "),u.Qb(),u.Nb(7,"input",6),u.Qb(),u.Rb(8,"div",4),u.Rb(9,"label",7),u.Bc(10,"Category: "),u.Qb(),u.Rb(11,"select",8),u.Rb(12,"option",9),u.Bc(13,"General"),u.Qb(),u.Rb(14,"option",10),u.Bc(15,"Business"),u.Qb(),u.Rb(16,"option",11),u.Bc(17,"Entertainment"),u.Qb(),u.Rb(18,"option",12),u.Bc(19,"Gaming"),u.Qb(),u.Rb(20,"option",13),u.Bc(21,"Music"),u.Qb(),u.Rb(22,"option",14),u.Bc(23,"Politics"),u.Qb(),u.Rb(24,"option",15),u.Bc(25,"Health and medical"),u.Qb(),u.Rb(26,"option",16),u.Bc(27,"Science and nature"),u.Qb(),u.Rb(28,"option",17),u.Bc(29,"Sport"),u.Qb(),u.Rb(30,"option",18),u.Bc(31,"Technology"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(32,"div",3),u.Rb(33,"div",4),u.Rb(34,"label",19),u.Bc(35,"Country: "),u.Qb(),u.Rb(36,"select",20),u.Rb(37,"option",21),u.Bc(38,"United States of America"),u.Qb(),u.Rb(39,"option",22),u.Bc(40,"United Arab Emirates"),u.Qb(),u.Rb(41,"option",23),u.Bc(42,"Argentina"),u.Qb(),u.Rb(43,"option",24),u.Bc(44,"Serbia"),u.Qb(),u.Rb(45,"option",25),u.Bc(46,"Germany"),u.Qb(),u.Rb(47,"option",26),u.Bc(48,"United Kingdom of Great Britain and Northern Ireland"),u.Qb(),u.Rb(49,"option",27),u.Bc(50,"Hungary"),u.Qb(),u.Rb(51,"option",28),u.Bc(52,"Romania"),u.Qb(),u.Qb(),u.Qb(),u.Rb(53,"div",4),u.Rb(54,"label",29),u.Bc(55,"Page size"),u.Qb(),u.Nb(56,"input",30),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.lc("formGroup",t.form),u.zb(11),u.lc("multiple",t.multiple),u.zb(25),u.lc("multiple",t.multiple),u.zb(20),u.lc("min",t.minPageSize)("max",t.maxPageSize)("value",t.defaultPageSize))},directives:[Q.p,Q.i,Q.d,Q.a,Q.h,Q.c,Q.m,Q.j,Q.o,Q.k],styles:[""],changeDetection:0}),e})();var w=i("ofXK");function C(e,t){1&e&&(u.Rb(0,"h1"),u.Bc(1,"Please wait"),u.Qb())}function k(e,t){if(1&e&&(u.Rb(0,"article",11),u.Rb(1,"div",2),u.Rb(2,"div",12),u.Rb(3,"a",13),u.Nb(4,"img",14),u.Qb(),u.Qb(),u.Rb(5,"div",15),u.Rb(6,"div",16),u.Rb(7,"h5",17),u.Rb(8,"span",18),u.Bc(9),u.gc(10,"number"),u.Qb(),u.Rb(11,"a",13),u.Bc(12),u.Qb(),u.Qb(),u.Rb(13,"div",19),u.Rb(14,"p"),u.Rb(15,"strong"),u.Bc(16),u.Qb(),u.Qb(),u.Rb(17,"p"),u.Rb(18,"strong"),u.Bc(19),u.Qb(),u.Qb(),u.Rb(20,"p"),u.Rb(21,"strong"),u.Bc(22),u.gc(23,"date"),u.Qb(),u.Qb(),u.Qb(),u.Rb(24,"p",20),u.Bc(25),u.Qb(),u.Rb(26,"a",21),u.Bc(27,"Read the article"),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Nb(28,"hr"),u.Qb()),2&e){const e=t.$implicit,i=t.index;u.lc("id",e.title),u.zb(3),u.lc("href",e.url,u.uc),u.zb(1),u.lc("src",e.urlToImage,u.uc)("title",e.title)("alt",e.title),u.zb(5),u.Cc(u.hc(10,13,i+1)),u.zb(2),u.lc("href",e.url,u.uc),u.zb(1),u.Cc(e.title),u.zb(4),u.Dc("Source: ",e.source.name,""),u.zb(3),u.Dc("Author: ",e.author,""),u.zb(3),u.Cc(u.ic(23,15,e.publishedAt,"mediumDate")),u.zb(3),u.Cc(e.description),u.zb(1),u.lc("href",e.url,u.uc)}}function x(e,t){if(1&e){const e=u.Sb();u.Rb(0,"button",22),u.dc("click",(function(){u.tc(e);const t=u.fc(2),i=u.sc(1);return t.pageDecrease(i)})),u.Bc(1," Load less "),u.Qb()}}function I(e,t){if(1&e){const e=u.Sb();u.Rb(0,"button",23),u.dc("click",(function(){u.tc(e);const t=u.fc(2),i=u.sc(1);return t.pageIncrease(i)})),u.Bc(1," Load more "),u.Qb()}}function P(e,t){if(1&e&&(u.Pb(0),u.Rb(1,"section",null,6),u.zc(3,k,29,18,"article",7),u.Qb(),u.Rb(4,"div",8),u.zc(5,x,2,0,"button",9),u.zc(6,I,2,0,"button",10),u.Qb(),u.Ob()),2&e){const e=t.ngIf;u.zb(3),u.lc("ngForOf",e.headlines.articles),u.zb(2),u.lc("ngIf",e.page>1),u.zb(1),u.lc("ngIf",e.headlines.articles.length===e.searchCriteria.pageSize)}}const $=[{path:"",component:(()=>{class e{constructor(e,t){this.headlinesService=e,this.headlinesFacade=t,this.showSpinner=!1,this.vm$=t.vm$}receiveHeadlines(e){this.showSpinner=!0,this.headlinesFacade.updateSearchCriteria(e),this.headlinesService.getHeadlines(e).pipe(Object(n.a)(e=>{this.headlinesFacade.updateHeadlines(e)}),Object(c.a)(()=>{this.showSpinner=!1})).subscribe()}pageIncrease(e){e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),this.headlinesFacade.pageIncrease()}pageDecrease(e){e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),this.headlinesFacade.pageDecrease()}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(d),u.Mb(R))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-headlines"]],decls:8,vars:4,consts:[[1,"py-5"],["form",""],[1,"row"],[1,"col-xs-12","col-sm-10","offset-sm-1","col-md-6","offset-md-3"],[3,"receiveHeadlines"],[4,"ngIf"],["headlines_section",""],["class","articles",3,"id",4,"ngFor","ngForOf"],[1,"page-buttons"],["type","button","class","btn btn-primary float-left",3,"click",4,"ngIf"],["type","button","class","btn btn-primary float-right",3,"click",4,"ngIf"],[1,"articles",3,"id"],[1,"col-md-7"],[3,"href"],["loading","lazy",1,"img-fluid","img-thumbnail","rounded","mx-auto","d-block","border","border-light",3,"src","title","alt"],[1,"col-md-5"],[1,"article"],[1,"text-center","d-flex","justify-content-between","align-items-center","mb-2"],[1,"badge","badge-dark","align-self-start"],[1,"mb-2"],[1,"mb-2","lead"],[1,"btn","btn-outline-primary",3,"href"],["type","button",1,"btn","btn-primary","float-left",3,"click"],["type","button",1,"btn","btn-primary","float-right",3,"click"]],template:function(e,t){1&e&&(u.Rb(0,"section",0,1),u.Rb(2,"div",2),u.Rb(3,"div",3),u.Rb(4,"app-headlines-form",4),u.dc("receiveHeadlines",(function(e){return t.receiveHeadlines(e)})),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.zc(5,C,2,0,"h1",5),u.zc(6,P,7,3,"ng-container",5),u.gc(7,"async")),2&e&&(u.zb(5),u.lc("ngIf",t.showSpinner),u.zb(1),u.lc("ngIf",u.hc(7,2,t.vm$)))},directives:[B,w.m,w.l],pipes:[w.b,w.f,w.e],styles:['.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]:before{background-color:#fff}img[_ngcontent-%COMP%]:before{content:"We\'re sorry, this image is broken :(";display:block;margin-bottom:10px}.article[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;height:100%}.article[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .article[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}'],changeDetection:0}),e})()}];let H=(()=>{class e{}return e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({factory:function(t){return new(t||e)},imports:[[a.g.forChild($)],a.g]}),e})();var N=i("PCNd");i.d(t,"HeadlinesModule",(function(){return D}));let D=(()=>{class e{}return e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({factory:function(t){return new(t||e)},imports:[[N.a,H]]}),e})()}}]);